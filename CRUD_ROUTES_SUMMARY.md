# –û—Ç—á–µ—Ç –æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö CRUD-–º–∞—Ä—à—Ä—É—Ç–∞—Ö

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. **–ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –∫—É—Ä—Å–æ–≤ (Courses)**

#### ViewSet –º–∞—Ä—à—Ä—É—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏):
- **GET** `/api/materials/courses/` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤
- **POST** `/api/materials/courses/` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—É—Ä—Å–∞
- **GET** `/api/materials/courses/{id}/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –ø–æ ID
- **PUT** `/api/materials/courses/{id}/` - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞
- **PATCH** `/api/materials/courses/{id}/` - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞
- **DELETE** `/api/materials/courses/{id}/` - —É–¥–∞–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è ViewSet:
- **GET** `/api/materials/courses/{id}/lessons/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ –∫—É—Ä—Å–∞
- **POST** `/api/materials/courses/{id}/enroll/` - –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å

#### Generic Views –º–∞—Ä—à—Ä—É—Ç—ã (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):
- **GET** `/api/materials/courses/list/` - —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤
- **POST** `/api/materials/courses/create/` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞
- **GET** `/api/materials/courses/{id}/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞
- **PUT/PATCH** `/api/materials/courses/{id}/update/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞
- **DELETE** `/api/materials/courses/{id}/delete/` - —É–¥–∞–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞

### 2. **–ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è —É—Ä–æ–∫–æ–≤ (Lessons)**

#### Generic Views –º–∞—Ä—à—Ä—É—Ç—ã:
- **GET** `/api/materials/lessons/` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤
- **POST** `/api/materials/lessons/create/` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–∫–∞
- **GET** `/api/materials/lessons/{id}/` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–∫–∞ –ø–æ ID
- **PUT/PATCH** `/api/materials/lessons/{id}/update/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞
- **DELETE** `/api/materials/lessons/{id}/delete/` - —É–¥–∞–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞

### 3. **–ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Users)**

#### ViewSet –º–∞—Ä—à—Ä—É—Ç—ã:
- **GET** `/api/users/` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **POST** `/api/users/` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **GET** `/api/users/{id}/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
- **PUT** `/api/users/{id}/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **PATCH** `/api/users/{id}/` - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **DELETE** `/api/users/{id}/` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 4. **–ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π (Payments)**

#### ViewSet –º–∞—Ä—à—Ä—É—Ç—ã:
- **GET** `/api/payments/` - —Å–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π
- **POST** `/api/payments/` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- **GET** `/api/payments/{id}/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –ø–æ ID
- **PUT** `/api/payments/{id}/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- **PATCH** `/api/payments/{id}/` - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- **DELETE** `/api/payments/{id}/` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞

### 5. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**

#### JWT –º–∞—Ä—à—Ä—É—Ç—ã:
- **POST** `/api/auth/token/` - –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
- **POST** `/api/auth/token/refresh/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
- **POST** `/api/auth/register/` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîß –£–ª—É—á—à–µ–Ω–∏—è –≤ views.py:

### 1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
- `IsAuthenticatedOrReadOnly` - –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è
- `IsAuthenticated` - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É—Ä—Å–∞/—É—Ä–æ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `owner = request.user`

### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫—É—Ä—Å—ã –∏ —É—Ä–æ–∫–∏
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º

### 4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**
- `lessons` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤ –∫—É—Ä—Å–∞
- `enroll` - –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å

## üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`materials/urls.py`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ CRUD –º–∞—Ä—à—Ä—É—Ç—ã
2. **`materials/views.py`** - —É–ª—É—á—à–µ–Ω—ã views —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
3. **`LMS-sys/urls.py`** - —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã URL-—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/api/`
4. **`API_ENDPOINTS.md`** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üöÄ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API:

```
/api/
‚îú‚îÄ‚îÄ admin/                    # Django –∞–¥–º–∏–Ω–∫–∞
‚îú‚îÄ‚îÄ materials/               # –ö—É—Ä—Å—ã –∏ —É—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ courses/            # CRUD –¥–ª—è –∫—É—Ä—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ courses/{id}/       # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫—É—Ä—Å–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ courses/{id}/lessons/  # –£—Ä–æ–∫–∏ –∫—É—Ä—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ courses/{id}/enroll/   # –ó–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å
‚îÇ   ‚îú‚îÄ‚îÄ lessons/            # CRUD –¥–ª—è —É—Ä–æ–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ lessons/{id}/       # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —É—Ä–æ–∫–æ–º
‚îú‚îÄ‚îÄ users/                   # CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ payments/                # CRUD –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îî‚îÄ‚îÄ auth/                    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ token/              # –ü–æ–ª—É—á–µ–Ω–∏–µ JWT
    ‚îú‚îÄ‚îÄ token/refresh/      # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT
    ‚îî‚îÄ‚îÄ register/           # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å **–ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π** –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π:
- ‚úÖ **–ö—É—Ä—Å—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–£—Ä–æ–∫–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ  
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–ü–ª–∞—Ç–µ–∂–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - JWT —Ç–æ–∫–µ–Ω—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** - —É—Ä–æ–∫–∏ –∫—É—Ä—Å–∞, –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API** —á–µ—Ä–µ–∑ Postman –∏–ª–∏ curl
2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é** –¥–∞–Ω–Ω—ã—Ö
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é** –∏ –ø–æ–∏—Å–∫
4. **–î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
5. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã** –¥–ª—è API endpoints
